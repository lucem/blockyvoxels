<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>What I mean by database file storage - Blocky voxels and other fun things</title><meta name="description" content="Some people have misunderstood what I mean with storing data that tradtionally would be stored in files in a database table. So, I thought I'd&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://lucem.github.io/blockyvoxels/what-i-mean-by-database-file-storage.html"><link rel="alternate" type="application/atom+xml" href="https://lucem.github.io/blockyvoxels/feed.xml"><link rel="alternate" type="application/json" href="https://lucem.github.io/blockyvoxels/feed.json"><meta property="og:title" content="What I mean by database file storage"><meta property="og:site_name" content="Blocky voxels and other fun things"><meta property="og:description" content="Some people have misunderstood what I mean with storing data that tradtionally would be stored in files in a database table. So, I thought I'd&hellip;"><meta property="og:url" content="https://lucem.github.io/blockyvoxels/what-i-mean-by-database-file-storage.html"><meta property="og:type" content="article"><link rel="preload" href="https://lucem.github.io/blockyvoxels/assets/dynamic/fonts/jetbrainsmono/jetbrainsmono.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://lucem.github.io/blockyvoxels/assets/css/style.css?v=9c0f93417398e01e3c99419944d45d0d"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://lucem.github.io/blockyvoxels/what-i-mean-by-database-file-storage.html"},"headline":"What I mean by database file storage","datePublished":"2023-12-31T13:33","dateModified":"2023-12-31T13:33","description":"Some people have misunderstood what I mean with storing data that tradtionally would be stored in files in a database table. So, I thought I'd&hellip;","author":{"@type":"Person","name":"lucem","url":"https://lucem.github.io/blockyvoxels/authors/lucem/"},"publisher":{"@type":"Organization","name":"lucem"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="container"><header class="header"><div class="header__logo"><a class="logo" href="https://lucem.github.io/blockyvoxels/">Blocky voxels and other fun things</a></div><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://lucem.github.io/blockyvoxels/" target="_self">Front Page</a></li><li><a href="https://lucem.github.io/blockyvoxels/tags/" target="_self">Tag List</a></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">Filter by tag</span><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://lucem.github.io/blockyvoxels/tags/info-and-overview/" target="_self">#info and overview</a></li><li><a href="https://lucem.github.io/blockyvoxels/tags/ideas/" target="_self">#ideas</a></li><li><a href="https://lucem.github.io/blockyvoxels/tags/game/" target="_self">#game</a></li><li><a href="https://lucem.github.io/blockyvoxels/tags/engine/" target="_self">#engine</a></li><li class="has-submenu"><a href="https://lucem.github.io/blockyvoxels/tags/tools/" target="_self" aria-haspopup="true">#tools</a><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://lucem.github.io/blockyvoxels/tags/map-editor/" target="_self">#map editor</a></li><li><a href="https://lucem.github.io/blockyvoxels/tags/voxel-editor/" target="_self">#voxel editor</a></li><li><a href="https://lucem.github.io/blockyvoxels/tags/material-editor/" target="_self">#material editor</a></li></ul></li></ul></li></ul></nav></header><main class="content"><article class="post"><header><h1 class="post__title">What I mean by database file storage</h1><div class="post__meta"><time datetime="2023-12-31T13:33" class="post__date">December 31, 2023 </time><span class="post__author"><a href="https://lucem.github.io/blockyvoxels/authors/lucem/" class="feed__author">lucem</a></span></div><div class="post__tags"><a href="https://lucem.github.io/blockyvoxels/tags/ideas/" class="invert">ideas</a> <a href="https://lucem.github.io/blockyvoxels/tags/info-and-overview/" class="invert">info and overview</a></div></header><div class="post__entry"><p>Some people have misunderstood what I mean with storing data that tradtionally would be stored in files in a database table.</p><p>So, I thought I'd clear this up in a central location to avoid future misunderstanding.</p><h2>File storage in a (relational) database</h2><p>It is possible to store files of any length in a database table (using Blob columns).</p><table style="border-collapse: collapse; width: 100%;" border="1"><tbody><tr><td style="width: 23.8163%;">ID</td><td style="width: 11.9795%;">Version</td><td style="width: 15.4022%;">&lt;some indexed search criterion&gt;</td><td style="width: 24.3868%;">&lt;resource name&gt;</td><td style="width: 24.3868%;">&lt;content as blob&gt;</td></tr><tr><td style="width: 23.8163%;">0</td><td style="width: 11.9795%;">0</td><td style="width: 15.4022%;">1234</td><td style="width: 24.3868%;">"empty default chunk"</td><td style="width: 24.3868%;">&lt;data&gt;</td></tr><tr><td style="width: 23.8163%;">1</td><td style="width: 11.9795%;">0</td><td style="width: 15.4022%;">4711</td><td style="width: 24.3868%;">"some funky chunk"</td><td style="width: 24.3868%;">&lt;data&gt;</td></tr><tr><td style="width: 23.8163%;">2</td><td style="width: 11.9795%;">1</td><td style="width: 15.4022%;">4711</td><td style="width: 24.3868%;">"some funky chunk"</td><td style="width: 24.3868%;">&lt;data&gt;</td></tr></tbody></table><p>Of course, there are drawbacks to this approach.<br>Retrieving data from a database is a bit slower than directly accessing a file in the filesystem. If you try to do this over a network, this gets prohibitively slow very fast, especially if the Blobs are rather large.</p><p>This is not what I intend to do. My approach is to use a local in-process database (e.g. SQLite) to do this. The somewhat higher latency for access remains, but you also gain a lot of nice things "for free". First, you don't really have to worry about writing and elaborate parser or excessive documentation on file formats. In most cases, you can just directly serialize and deserialize raw data from and to memory (unless you have pointers or references in there). Second, you get versioning of your data without any extra effort.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on December 31, 2023</p><div class="post__share"></div></footer><nav class="pagination"><div class="pagination__title"><span>Read other posts</span></div><div class="pagination__buttons"><a href="https://lucem.github.io/blockyvoxels/chunk-storage-and-compression-ideas-request-for-comment.html" class="btn previous" rel="prev" aria-label="[MISSING TRANSLATION]:  Chunk storage and compression (ideas - request for comment) "><span class="btn__icon">‚Üê</span> <span class="btn__text">Chunk storage and compression (ideas - request for comment)</span></a></div></nav></article></main><footer class="footer"><div class="footer__inner"><div class="footer__copyright"><p>Published initially on December 30th, 2023<br>Copyleft - lucem<br>Powered by Publii CMS</p></div></div></footer></div><script defer="defer" src="https://lucem.github.io/blockyvoxels/assets/js/scripts.min.js?v=74fad06980c30243d91d72c7c57fcdb8"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>